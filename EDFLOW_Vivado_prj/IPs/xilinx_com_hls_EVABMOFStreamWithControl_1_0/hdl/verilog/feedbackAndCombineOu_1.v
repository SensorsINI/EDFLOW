// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2018.1
// Copyright (C) 1986-2018 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

`timescale 1 ns / 1 ps 

module feedbackAndCombineOu_1 (
        ap_clk,
        ap_rst,
        ap_start,
        ap_done,
        ap_idle,
        ap_ready,
        packetEventDataStream_V_V_dout,
        packetEventDataStream_V_V_empty_n,
        packetEventDataStream_V_V_read,
        miniSumStreamScale0_V_V_dout,
        miniSumStreamScale0_V_V_empty_n,
        miniSumStreamScale0_V_V_read,
        OFRetStreamScale0_V_V_dout,
        OFRetStreamScale0_V_V_empty_n,
        OFRetStreamScale0_V_V_read,
        miniSumStreamScale1_V_V_dout,
        miniSumStreamScale1_V_V_empty_n,
        miniSumStreamScale1_V_V_read,
        OFRetStreamScale1_V_V_dout,
        OFRetStreamScale1_V_V_empty_n,
        OFRetStreamScale1_V_V_read,
        miniSumStreamScale2_V_V_dout,
        miniSumStreamScale2_V_V_empty_n,
        miniSumStreamScale2_V_V_read,
        OFRetStreamScale2_V_V_dout,
        OFRetStreamScale2_V_V_empty_n,
        OFRetStreamScale2_V_V_read,
        xStreamOut_V_V_TDATA,
        xStreamOut_V_V_TVALID,
        xStreamOut_V_V_TREADY,
        yStreamOut_V_V_TDATA,
        yStreamOut_V_V_TVALID,
        yStreamOut_V_V_TREADY,
        polStreamOut_V_V_TDATA,
        polStreamOut_V_V_TVALID,
        polStreamOut_V_V_TREADY,
        tsStreamOut_V_V_TDATA,
        tsStreamOut_V_V_TVALID,
        tsStreamOut_V_V_TREADY,
        custDataStreamOut_V_V_TDATA,
        custDataStreamOut_V_V_TVALID,
        custDataStreamOut_V_V_TREADY,
        p_read,
        p_read1,
        OFHistRadiusSum_V_i,
        OFHistRadiusSum_V_o,
        OFHistRadiusSum_V_o_ap_vld,
        OFHistCntSum_V_i,
        OFHistCntSum_V_o,
        OFHistCntSum_V_o_ap_vld,
        glAverageTargetValue_i,
        glAverageTargetValue_o,
        glAverageTargetValue_o_ap_vld,
        areaEventThr_i,
        areaEventThr_o,
        areaEventThr_o_ap_vld,
        glOFHistCntSum_V,
        glOFHistCntSum_V_ap_vld,
        glOFHistRadiusSum_V,
        glOFHistRadiusSum_V_ap_vld,
        areaEventThrBak,
        areaEventThrBak_ap_vld,
        glAverageTargetValue_1,
        glAverageTargetValue_1_ap_vld
);

parameter    ap_ST_fsm_state1 = 4'd1;
parameter    ap_ST_fsm_state2 = 4'd2;
parameter    ap_ST_fsm_state3 = 4'd4;
parameter    ap_ST_fsm_state4 = 4'd8;
parameter    ap_const_lv64_0 = 64'd0;
parameter    ap_const_lv17_0 = 17'd0;

input   ap_clk;
input   ap_rst;
input   ap_start;
output   ap_done;
output   ap_idle;
output   ap_ready;
input  [95:0] packetEventDataStream_V_V_dout;
input   packetEventDataStream_V_V_empty_n;
output   packetEventDataStream_V_V_read;
input  [14:0] miniSumStreamScale0_V_V_dout;
input   miniSumStreamScale0_V_V_empty_n;
output   miniSumStreamScale0_V_V_read;
input  [5:0] OFRetStreamScale0_V_V_dout;
input   OFRetStreamScale0_V_V_empty_n;
output   OFRetStreamScale0_V_V_read;
input  [14:0] miniSumStreamScale1_V_V_dout;
input   miniSumStreamScale1_V_V_empty_n;
output   miniSumStreamScale1_V_V_read;
input  [5:0] OFRetStreamScale1_V_V_dout;
input   OFRetStreamScale1_V_V_empty_n;
output   OFRetStreamScale1_V_V_read;
input  [14:0] miniSumStreamScale2_V_V_dout;
input   miniSumStreamScale2_V_V_empty_n;
output   miniSumStreamScale2_V_V_read;
input  [5:0] OFRetStreamScale2_V_V_dout;
input   OFRetStreamScale2_V_V_empty_n;
output   OFRetStreamScale2_V_V_read;
output  [15:0] xStreamOut_V_V_TDATA;
output   xStreamOut_V_V_TVALID;
input   xStreamOut_V_V_TREADY;
output  [15:0] yStreamOut_V_V_TDATA;
output   yStreamOut_V_V_TVALID;
input   yStreamOut_V_V_TREADY;
output  [7:0] polStreamOut_V_V_TDATA;
output   polStreamOut_V_V_TVALID;
input   polStreamOut_V_V_TREADY;
output  [63:0] tsStreamOut_V_V_TDATA;
output   tsStreamOut_V_V_TVALID;
input   tsStreamOut_V_V_TREADY;
output  [23:0] custDataStreamOut_V_V_TDATA;
output   custDataStreamOut_V_V_TVALID;
input   custDataStreamOut_V_V_TREADY;
input  [31:0] p_read;
input  [0:0] p_read1;
input  [15:0] OFHistRadiusSum_V_i;
output  [15:0] OFHistRadiusSum_V_o;
output   OFHistRadiusSum_V_o_ap_vld;
input  [15:0] OFHistCntSum_V_i;
output  [15:0] OFHistCntSum_V_o;
output   OFHistCntSum_V_o_ap_vld;
input  [15:0] glAverageTargetValue_i;
output  [15:0] glAverageTargetValue_o;
output   glAverageTargetValue_o_ap_vld;
input  [15:0] areaEventThr_i;
output  [15:0] areaEventThr_o;
output   areaEventThr_o_ap_vld;
output  [15:0] glOFHistCntSum_V;
output   glOFHistCntSum_V_ap_vld;
output  [15:0] glOFHistRadiusSum_V;
output   glOFHistRadiusSum_V_ap_vld;
output  [15:0] areaEventThrBak;
output   areaEventThrBak_ap_vld;
output  [15:0] glAverageTargetValue_1;
output   glAverageTargetValue_1_ap_vld;

reg ap_done;
reg ap_idle;
reg ap_ready;
reg packetEventDataStream_V_V_read;
reg miniSumStreamScale0_V_V_read;
reg OFRetStreamScale0_V_V_read;
reg miniSumStreamScale1_V_V_read;
reg OFRetStreamScale1_V_V_read;
reg miniSumStreamScale2_V_V_read;
reg OFRetStreamScale2_V_V_read;
reg xStreamOut_V_V_TVALID;
reg yStreamOut_V_V_TVALID;
reg polStreamOut_V_V_TVALID;
reg tsStreamOut_V_V_TVALID;
reg custDataStreamOut_V_V_TVALID;
reg[15:0] OFHistRadiusSum_V_o;
reg[15:0] OFHistCntSum_V_o;
reg[15:0] glAverageTargetValue_o;
reg[15:0] areaEventThr_o;

(* fsm_encoding = "none" *) reg   [3:0] ap_CS_fsm;
wire    ap_CS_fsm_state1;
reg    packetEventDataStream_V_V_blk_n;
reg    miniSumStreamScale0_V_V_blk_n;
reg    OFRetStreamScale0_V_V_blk_n;
reg    miniSumStreamScale1_V_V_blk_n;
reg    OFRetStreamScale1_V_V_blk_n;
reg    miniSumStreamScale2_V_V_blk_n;
reg    OFRetStreamScale2_V_V_blk_n;
reg    xStreamOut_V_V_TDATA_blk_n;
wire    ap_CS_fsm_state4;
reg    yStreamOut_V_V_TDATA_blk_n;
reg    polStreamOut_V_V_TDATA_blk_n;
reg    tsStreamOut_V_V_TDATA_blk_n;
reg    custDataStreamOut_V_V_TDATA_blk_n;
reg    ap_block_state1;
reg   [95:0] tmp_V_189_reg_1140;
reg   [15:0] y_V_reg_1147;
wire   [15:0] x_V_fu_403_p1;
reg   [15:0] x_V_reg_1153;
reg   [0:0] pol_V_reg_1159;
wire   [63:0] p_Result_s_fu_425_p5;
reg   [63:0] p_Result_s_reg_1164;
reg   [14:0] tmp_V_reg_1169;
reg   [5:0] tmp_V_179_reg_1174;
reg   [14:0] tmp_V_180_reg_1179;
reg   [5:0] tmp_V_190_reg_1184;
reg   [14:0] tmp_V_182_reg_1189;
reg   [5:0] tmp_V_191_reg_1194;
wire  signed [4:0] r_V_63_fu_453_p2;
reg  signed [4:0] r_V_63_reg_1199;
wire  signed [4:0] r_V_64_fu_481_p2;
reg  signed [4:0] r_V_64_reg_1204;
wire   [6:0] xInitOffsetScale0_V_fu_513_p2;
reg   [6:0] xInitOffsetScale0_V_reg_1209;
wire   [6:0] yInitOffsetScale0_V_fu_551_p2;
reg   [6:0] yInitOffsetScale0_V_reg_1214;
wire   [0:0] or_cond13_i_fu_597_p2;
reg   [0:0] or_cond13_i_reg_1219;
wire   [0:0] tmp_1116_i_fu_844_p2;
reg   [0:0] tmp_1116_i_reg_1238;
wire    ap_CS_fsm_state2;
wire   [15:0] p_Val2_73_fu_1031_p3;
reg   [15:0] p_Val2_73_reg_1243;
wire    ap_CS_fsm_state3;
wire   [7:0] xOFRet_V_fu_1040_p1;
reg  signed [7:0] xOFRet_V_reg_1248;
reg   [7:0] yOFRet_V_reg_1253;
wire   [0:0] tmp_1138_i_fu_1054_p2;
reg   [0:0] tmp_1138_i_reg_1258;
wire    grp_feedbackWithoutOFHis_fu_370_ap_start;
wire    grp_feedbackWithoutOFHis_fu_370_ap_done;
wire    grp_feedbackWithoutOFHis_fu_370_ap_idle;
wire    grp_feedbackWithoutOFHis_fu_370_ap_ready;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o;
wire    grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o;
wire    grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o;
wire    grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_areaEventThr_o;
wire    grp_feedbackWithoutOFHis_fu_370_areaEventThr_o_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_glOFHistCntSum_V;
wire    grp_feedbackWithoutOFHis_fu_370_glOFHistCntSum_V_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_glOFHistRadiusSum_V;
wire    grp_feedbackWithoutOFHis_fu_370_glOFHistRadiusSum_V_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_areaEventThrBak;
wire    grp_feedbackWithoutOFHis_fu_370_areaEventThrBak_ap_vld;
wire   [15:0] grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_1;
wire    grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_1_ap_vld;
reg   [14:0] ap_phi_mux_tmp_V_105_load_phi_fu_308_p4;
wire   [0:0] or_cond14_i_fu_642_p2;
reg   [5:0] p_Val2_72_reg_315;
reg   [14:0] tmp_V_103_load_reg_326;
wire   [0:0] or_cond_fu_696_p2;
wire   [0:0] or_cond1_fu_750_p2;
reg   [5:0] p_Val2_1_reg_337;
reg   [5:0] p_Val2_2_reg_348;
wire   [0:0] or_cond_i_fu_794_p2;
wire   [0:0] or_cond1_i_fu_838_p2;
reg   [14:0] tmp_V_101_load_reg_359;
reg    grp_feedbackWithoutOFHis_fu_370_ap_start_reg;
reg    ap_reg_ioackin_xStreamOut_V_V_TREADY;
reg    ap_sig_ioackin_xStreamOut_V_V_TREADY;
reg    ap_sig_ioackin_yStreamOut_V_V_TREADY;
reg    ap_sig_ioackin_polStreamOut_V_V_TREADY;
reg    ap_sig_ioackin_tsStreamOut_V_V_TREADY;
reg    ap_sig_ioackin_custDataStreamOut_V_V_TREADY;
reg    ap_block_state4_io;
reg    ap_reg_ioackin_yStreamOut_V_V_TREADY;
reg    ap_reg_ioackin_polStreamOut_V_V_TREADY;
reg    ap_reg_ioackin_tsStreamOut_V_V_TREADY;
reg    ap_reg_ioackin_custDataStreamOut_V_V_TREADY;
wire   [62:0] p_Result_i_fu_415_p4;
wire   [2:0] tmp_2544_fu_437_p1;
wire   [3:0] tmp_1098_i_fu_441_p3;
wire   [4:0] tmp_1098_cast10_i_fu_449_p1;
wire   [2:0] tmp_271_fu_459_p4;
wire   [3:0] tmp_1100_i_fu_469_p3;
wire   [4:0] tmp_1100_cast9_i_fu_477_p1;
wire   [2:0] tmp_2545_fu_487_p1;
wire   [4:0] tmp_4269_cast_i_fu_491_p1;
wire   [4:0] tmp5_i_fu_495_p2;
wire   [5:0] tmp_272_fu_501_p3;
wire  signed [6:0] tmp9_i_cast_fu_509_p1;
wire   [2:0] p_Result_7_i_fu_519_p4;
wire   [4:0] tmp_4271_cast_i_fu_529_p1;
wire   [4:0] tmp103_i_fu_533_p2;
wire   [5:0] tmp_273_fu_539_p3;
wire  signed [6:0] tmp11_i_cast_fu_547_p1;
wire   [13:0] tmp_274_fu_557_p4;
wire   [14:0] lhs_V_cast_i_fu_567_p1;
wire   [14:0] addconv_i_fu_571_p2;
wire   [14:0] r_V_173_i_fu_585_p2;
wire   [0:0] tmp_2546_fu_577_p3;
wire   [0:0] tmp_1103_i_fu_591_p2;
wire   [13:0] tmp_275_fu_603_p4;
wire   [14:0] lhs_V_12_cast_i_fu_612_p1;
wire   [14:0] addconv1_i_fu_616_p2;
wire   [14:0] r_V_176_i_fu_630_p2;
wire   [0:0] tmp_2547_fu_622_p3;
wire   [0:0] tmp_1106_i_fu_636_p2;
wire   [14:0] r_V_s_fu_648_p4;
wire  signed [15:0] rhs_V_cast8_i_fu_661_p1;
wire   [15:0] r_V_fu_657_p1;
wire   [15:0] tmp_fu_664_p2;
wire   [15:0] r_V_4_i_fu_670_p2;
wire   [15:0] r_V_57_fu_684_p2;
wire   [0:0] tmp_2548_fu_676_p3;
wire   [0:0] tmp_1108_i_fu_690_p2;
wire   [14:0] r_V_58_fu_702_p4;
wire  signed [15:0] rhs_V_3_cast7_i_fu_715_p1;
wire   [15:0] r_V_59_fu_711_p1;
wire   [15:0] tmp5_fu_718_p2;
wire   [15:0] r_V_7_i_fu_724_p2;
wire   [15:0] r_V_60_fu_738_p2;
wire   [0:0] tmp_2549_fu_730_p3;
wire   [0:0] tmp_1111_i_fu_744_p2;
wire   [17:0] lhs_V_fu_756_p1;
wire  signed [17:0] rhs_V_fu_759_p1;
wire   [17:0] r_V_61_fu_762_p2;
wire   [17:0] addconv6_i_fu_768_p2;
wire   [17:0] addconv7_i_fu_782_p2;
wire   [0:0] tmp_2550_fu_774_p3;
wire   [0:0] tmp_1113_i_fu_788_p2;
wire   [17:0] lhs_V_3_fu_800_p1;
wire  signed [17:0] rhs_V_3_fu_803_p1;
wire   [17:0] r_V_62_fu_806_p2;
wire   [17:0] addconv8_i_fu_812_p2;
wire   [17:0] addconv9_i_fu_826_p2;
wire   [0:0] tmp_2551_fu_818_p3;
wire   [0:0] tmp_1115_i_fu_832_p2;
wire   [2:0] tmp_2552_fu_862_p1;
wire   [2:0] p_Result_13_i_fu_870_p4;
wire   [2:0] tmp_2553_fu_884_p1;
wire   [4:0] tmp_1125_i_fu_888_p3;
wire   [2:0] tmp_2554_fu_900_p1;
wire   [3:0] tmp_1126_i_fu_904_p3;
wire   [5:0] tmp_1125_cast_i_fu_896_p1;
wire   [4:0] tmp_1126_cast_i_cast_fu_912_p1;
wire   [4:0] tmp_1123_cast_i_cast_fu_866_p1;
wire   [4:0] tmp10_fu_922_p2;
wire   [5:0] tmp10_cast_fu_928_p1;
wire   [5:0] tmp9_fu_916_p2;
wire   [5:0] xOFTmpRet_V_fu_932_p2;
wire   [2:0] tmp_276_fu_942_p4;
wire   [4:0] tmp_1129_i_fu_952_p3;
wire   [2:0] tmp_277_fu_964_p4;
wire   [3:0] tmp_1130_i_fu_974_p3;
wire   [5:0] tmp_1129_cast_i_fu_960_p1;
wire   [4:0] tmp_1130_cast_i_cast_fu_982_p1;
wire   [4:0] tmp_1124_cast_i_cast_fu_880_p1;
wire   [4:0] tmp12_fu_992_p2;
wire   [5:0] tmp12_cast_fu_998_p1;
wire   [5:0] tmp11_fu_986_p2;
wire   [5:0] yOFTmpRet_V_fu_1002_p2;
wire  signed [7:0] xOFTmpRet_V_cast_i_fu_938_p1;
wire   [13:0] tmp_s_fu_1008_p3;
wire   [0:0] tmp_1117_i_fu_850_p2;
wire   [0:0] tmp_1118_i_fu_856_p2;
wire   [0:0] tmp13_fu_1020_p2;
wire   [0:0] sel_tmp6_fu_1026_p2;
wire  signed [15:0] p_Result_25_fu_1016_p1;
wire  signed [10:0] tmp_1135_cast_i_cast_fu_1063_p1;
wire   [10:0] tmp14_fu_1066_p2;
wire  signed [13:0] grp_fu_1119_p3;
wire   [0:0] tmp_164_fu_1086_p2;
wire   [10:0] tmp_4274_i_cast_fu_1079_p3;
wire   [10:0] tmp_2556_fu_1076_p1;
wire   [10:0] tmp_4275_i_fu_1090_p3;
wire   [16:0] p_Result_26_fu_1098_p5;
wire   [6:0] grp_fu_1119_p0;
wire   [10:0] grp_fu_1119_p2;
reg   [3:0] ap_NS_fsm;
wire   [13:0] grp_fu_1119_p20;

// power-on initialization
initial begin
#0 ap_CS_fsm = 4'd1;
#0 grp_feedbackWithoutOFHis_fu_370_ap_start_reg = 1'b0;
#0 ap_reg_ioackin_xStreamOut_V_V_TREADY = 1'b0;
#0 ap_reg_ioackin_yStreamOut_V_V_TREADY = 1'b0;
#0 ap_reg_ioackin_polStreamOut_V_V_TREADY = 1'b0;
#0 ap_reg_ioackin_tsStreamOut_V_V_TREADY = 1'b0;
#0 ap_reg_ioackin_custDataStreamOut_V_V_TREADY = 1'b0;
end

feedbackWithoutOFHis grp_feedbackWithoutOFHis_fu_370(
    .ap_clk(ap_clk),
    .ap_rst(ap_rst),
    .ap_start(grp_feedbackWithoutOFHis_fu_370_ap_start),
    .ap_done(grp_feedbackWithoutOFHis_fu_370_ap_done),
    .ap_idle(grp_feedbackWithoutOFHis_fu_370_ap_idle),
    .ap_ready(grp_feedbackWithoutOFHis_fu_370_ap_ready),
    .OFRet_V(p_Val2_73_reg_1243),
    .rotateFlg_V(p_read1),
    .p_read(p_read),
    .OFHistRadiusSum_V_i(OFHistRadiusSum_V_i),
    .OFHistRadiusSum_V_o(grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o),
    .OFHistRadiusSum_V_o_ap_vld(grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o_ap_vld),
    .OFHistCntSum_V_i(OFHistCntSum_V_i),
    .OFHistCntSum_V_o(grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o),
    .OFHistCntSum_V_o_ap_vld(grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o_ap_vld),
    .glAverageTargetValue_i(glAverageTargetValue_i),
    .glAverageTargetValue_o(grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o),
    .glAverageTargetValue_o_ap_vld(grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o_ap_vld),
    .areaEventThr_i(areaEventThr_i),
    .areaEventThr_o(grp_feedbackWithoutOFHis_fu_370_areaEventThr_o),
    .areaEventThr_o_ap_vld(grp_feedbackWithoutOFHis_fu_370_areaEventThr_o_ap_vld),
    .glOFHistCntSum_V(grp_feedbackWithoutOFHis_fu_370_glOFHistCntSum_V),
    .glOFHistCntSum_V_ap_vld(grp_feedbackWithoutOFHis_fu_370_glOFHistCntSum_V_ap_vld),
    .glOFHistRadiusSum_V(grp_feedbackWithoutOFHis_fu_370_glOFHistRadiusSum_V),
    .glOFHistRadiusSum_V_ap_vld(grp_feedbackWithoutOFHis_fu_370_glOFHistRadiusSum_V_ap_vld),
    .areaEventThrBak(grp_feedbackWithoutOFHis_fu_370_areaEventThrBak),
    .areaEventThrBak_ap_vld(grp_feedbackWithoutOFHis_fu_370_areaEventThrBak_ap_vld),
    .glAverageTargetValue_1(grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_1),
    .glAverageTargetValue_1_ap_vld(grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_1_ap_vld)
);

EVABMOFStreamWith1iI #(
    .ID( 1 ),
    .NUM_STAGE( 1 ),
    .din0_WIDTH( 7 ),
    .din1_WIDTH( 8 ),
    .din2_WIDTH( 11 ),
    .dout_WIDTH( 14 ))
EVABMOFStreamWith1iI_U645(
    .din0(grp_fu_1119_p0),
    .din1(xOFRet_V_reg_1248),
    .din2(grp_fu_1119_p2),
    .dout(grp_fu_1119_p3)
);

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_CS_fsm <= ap_ST_fsm_state1;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_reg_ioackin_custDataStreamOut_V_V_TREADY <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state4)) begin
            if (~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io))) begin
                ap_reg_ioackin_custDataStreamOut_V_V_TREADY <= 1'b0;
            end else if (((custDataStreamOut_V_V_TREADY == 1'b1) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
                ap_reg_ioackin_custDataStreamOut_V_V_TREADY <= 1'b1;
            end
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_reg_ioackin_polStreamOut_V_V_TREADY <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state4)) begin
            if (~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io))) begin
                ap_reg_ioackin_polStreamOut_V_V_TREADY <= 1'b0;
            end else if (((polStreamOut_V_V_TREADY == 1'b1) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
                ap_reg_ioackin_polStreamOut_V_V_TREADY <= 1'b1;
            end
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_reg_ioackin_tsStreamOut_V_V_TREADY <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state4)) begin
            if (~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io))) begin
                ap_reg_ioackin_tsStreamOut_V_V_TREADY <= 1'b0;
            end else if (((tsStreamOut_V_V_TREADY == 1'b1) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
                ap_reg_ioackin_tsStreamOut_V_V_TREADY <= 1'b1;
            end
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_reg_ioackin_xStreamOut_V_V_TREADY <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state4)) begin
            if (~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io))) begin
                ap_reg_ioackin_xStreamOut_V_V_TREADY <= 1'b0;
            end else if (((xStreamOut_V_V_TREADY == 1'b1) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
                ap_reg_ioackin_xStreamOut_V_V_TREADY <= 1'b1;
            end
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_reg_ioackin_yStreamOut_V_V_TREADY <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state4)) begin
            if (~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io))) begin
                ap_reg_ioackin_yStreamOut_V_V_TREADY <= 1'b0;
            end else if (((yStreamOut_V_V_TREADY == 1'b1) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
                ap_reg_ioackin_yStreamOut_V_V_TREADY <= 1'b1;
            end
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        grp_feedbackWithoutOFHis_fu_370_ap_start_reg <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state3)) begin
            grp_feedbackWithoutOFHis_fu_370_ap_start_reg <= 1'b1;
        end else if ((grp_feedbackWithoutOFHis_fu_370_ap_ready == 1'b1)) begin
            grp_feedbackWithoutOFHis_fu_370_ap_start_reg <= 1'b0;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        if (((or_cond1_fu_750_p2 == 1'd0) & (or_cond_fu_696_p2 == 1'd0))) begin
            p_Val2_1_reg_337 <= tmp_V_190_reg_1184;
        end else if (((or_cond1_fu_750_p2 == 1'd1) | (or_cond_fu_696_p2 == 1'd1))) begin
            p_Val2_1_reg_337 <= 6'd63;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        if (((or_cond1_i_fu_838_p2 == 1'd0) & (or_cond_i_fu_794_p2 == 1'd0))) begin
            p_Val2_2_reg_348 <= tmp_V_179_reg_1174;
        end else if (((or_cond1_i_fu_838_p2 == 1'd1) | (or_cond_i_fu_794_p2 == 1'd1))) begin
            p_Val2_2_reg_348 <= 6'd63;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        if (((or_cond14_i_fu_642_p2 == 1'd0) & (or_cond13_i_reg_1219 == 1'd0))) begin
            p_Val2_72_reg_315 <= tmp_V_191_reg_1194;
        end else if (((or_cond14_i_fu_642_p2 == 1'd1) | (or_cond13_i_reg_1219 == 1'd1))) begin
            p_Val2_72_reg_315 <= 6'd63;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        if (((or_cond1_i_fu_838_p2 == 1'd0) & (or_cond_i_fu_794_p2 == 1'd0))) begin
            tmp_V_101_load_reg_359 <= tmp_V_reg_1169;
        end else if (((or_cond1_i_fu_838_p2 == 1'd1) | (or_cond_i_fu_794_p2 == 1'd1))) begin
            tmp_V_101_load_reg_359 <= 15'd32767;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        if (((or_cond1_fu_750_p2 == 1'd0) & (or_cond_fu_696_p2 == 1'd0))) begin
            tmp_V_103_load_reg_326 <= tmp_V_180_reg_1179;
        end else if (((or_cond1_fu_750_p2 == 1'd1) | (or_cond_fu_696_p2 == 1'd1))) begin
            tmp_V_103_load_reg_326 <= 15'd32767;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        or_cond13_i_reg_1219 <= or_cond13_i_fu_597_p2;
        p_Result_s_reg_1164 <= p_Result_s_fu_425_p5;
        pol_V_reg_1159 <= packetEventDataStream_V_V_dout[32'd32];
        r_V_63_reg_1199[4 : 1] <= r_V_63_fu_453_p2[4 : 1];
        r_V_64_reg_1204[4 : 1] <= r_V_64_fu_481_p2[4 : 1];
        tmp_V_179_reg_1174 <= OFRetStreamScale0_V_V_dout;
        tmp_V_180_reg_1179 <= miniSumStreamScale1_V_V_dout;
        tmp_V_182_reg_1189 <= miniSumStreamScale2_V_V_dout;
        tmp_V_189_reg_1140 <= packetEventDataStream_V_V_dout;
        tmp_V_190_reg_1184 <= OFRetStreamScale1_V_V_dout;
        tmp_V_191_reg_1194 <= OFRetStreamScale2_V_V_dout;
        tmp_V_reg_1169 <= miniSumStreamScale0_V_V_dout;
        xInitOffsetScale0_V_reg_1209[6 : 1] <= xInitOffsetScale0_V_fu_513_p2[6 : 1];
        x_V_reg_1153 <= x_V_fu_403_p1;
        yInitOffsetScale0_V_reg_1214[6 : 1] <= yInitOffsetScale0_V_fu_551_p2[6 : 1];
        y_V_reg_1147 <= {{packetEventDataStream_V_V_dout[31:16]}};
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state3)) begin
        p_Val2_73_reg_1243 <= p_Val2_73_fu_1031_p3;
        tmp_1138_i_reg_1258 <= tmp_1138_i_fu_1054_p2;
        xOFRet_V_reg_1248 <= xOFRet_V_fu_1040_p1;
        yOFRet_V_reg_1253 <= {{p_Val2_73_fu_1031_p3[15:8]}};
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        tmp_1116_i_reg_1238 <= tmp_1116_i_fu_844_p2;
    end
end

always @ (*) begin
    if (((grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o_ap_vld == 1'b1) & (1'b1 == ap_CS_fsm_state4))) begin
        OFHistCntSum_V_o = grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o;
    end else begin
        OFHistCntSum_V_o = OFHistCntSum_V_i;
    end
end

always @ (*) begin
    if (((grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o_ap_vld == 1'b1) & (1'b1 == ap_CS_fsm_state4))) begin
        OFHistRadiusSum_V_o = grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o;
    end else begin
        OFHistRadiusSum_V_o = OFHistRadiusSum_V_i;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        OFRetStreamScale0_V_V_blk_n = OFRetStreamScale0_V_V_empty_n;
    end else begin
        OFRetStreamScale0_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        OFRetStreamScale0_V_V_read = 1'b1;
    end else begin
        OFRetStreamScale0_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        OFRetStreamScale1_V_V_blk_n = OFRetStreamScale1_V_V_empty_n;
    end else begin
        OFRetStreamScale1_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        OFRetStreamScale1_V_V_read = 1'b1;
    end else begin
        OFRetStreamScale1_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        OFRetStreamScale2_V_V_blk_n = OFRetStreamScale2_V_V_empty_n;
    end else begin
        OFRetStreamScale2_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        OFRetStreamScale2_V_V_read = 1'b1;
    end else begin
        OFRetStreamScale2_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if ((((ap_start == 1'b0) & (1'b1 == ap_CS_fsm_state1)) | (~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io)) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_done = 1'b1;
    end else begin
        ap_done = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b0) & (1'b1 == ap_CS_fsm_state1))) begin
        ap_idle = 1'b1;
    end else begin
        ap_idle = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        if (((or_cond14_i_fu_642_p2 == 1'd0) & (or_cond13_i_reg_1219 == 1'd0))) begin
            ap_phi_mux_tmp_V_105_load_phi_fu_308_p4 = tmp_V_182_reg_1189;
        end else if (((or_cond14_i_fu_642_p2 == 1'd1) | (or_cond13_i_reg_1219 == 1'd1))) begin
            ap_phi_mux_tmp_V_105_load_phi_fu_308_p4 = 15'd32767;
        end else begin
            ap_phi_mux_tmp_V_105_load_phi_fu_308_p4 = 'bx;
        end
    end else begin
        ap_phi_mux_tmp_V_105_load_phi_fu_308_p4 = 'bx;
    end
end

always @ (*) begin
    if ((~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io)) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_ready = 1'b1;
    end else begin
        ap_ready = 1'b0;
    end
end

always @ (*) begin
    if ((ap_reg_ioackin_custDataStreamOut_V_V_TREADY == 1'b0)) begin
        ap_sig_ioackin_custDataStreamOut_V_V_TREADY = custDataStreamOut_V_V_TREADY;
    end else begin
        ap_sig_ioackin_custDataStreamOut_V_V_TREADY = 1'b1;
    end
end

always @ (*) begin
    if ((ap_reg_ioackin_polStreamOut_V_V_TREADY == 1'b0)) begin
        ap_sig_ioackin_polStreamOut_V_V_TREADY = polStreamOut_V_V_TREADY;
    end else begin
        ap_sig_ioackin_polStreamOut_V_V_TREADY = 1'b1;
    end
end

always @ (*) begin
    if ((ap_reg_ioackin_tsStreamOut_V_V_TREADY == 1'b0)) begin
        ap_sig_ioackin_tsStreamOut_V_V_TREADY = tsStreamOut_V_V_TREADY;
    end else begin
        ap_sig_ioackin_tsStreamOut_V_V_TREADY = 1'b1;
    end
end

always @ (*) begin
    if ((ap_reg_ioackin_xStreamOut_V_V_TREADY == 1'b0)) begin
        ap_sig_ioackin_xStreamOut_V_V_TREADY = xStreamOut_V_V_TREADY;
    end else begin
        ap_sig_ioackin_xStreamOut_V_V_TREADY = 1'b1;
    end
end

always @ (*) begin
    if ((ap_reg_ioackin_yStreamOut_V_V_TREADY == 1'b0)) begin
        ap_sig_ioackin_yStreamOut_V_V_TREADY = yStreamOut_V_V_TREADY;
    end else begin
        ap_sig_ioackin_yStreamOut_V_V_TREADY = 1'b1;
    end
end

always @ (*) begin
    if (((grp_feedbackWithoutOFHis_fu_370_areaEventThr_o_ap_vld == 1'b1) & (1'b1 == ap_CS_fsm_state4))) begin
        areaEventThr_o = grp_feedbackWithoutOFHis_fu_370_areaEventThr_o;
    end else begin
        areaEventThr_o = areaEventThr_i;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        custDataStreamOut_V_V_TDATA_blk_n = custDataStreamOut_V_V_TREADY;
    end else begin
        custDataStreamOut_V_V_TDATA_blk_n = 1'b1;
    end
end

always @ (*) begin
    if (((ap_reg_ioackin_custDataStreamOut_V_V_TREADY == 1'b0) & (1'b1 == ap_CS_fsm_state4) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
        custDataStreamOut_V_V_TVALID = 1'b1;
    end else begin
        custDataStreamOut_V_V_TVALID = 1'b0;
    end
end

always @ (*) begin
    if (((grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o_ap_vld == 1'b1) & (1'b1 == ap_CS_fsm_state4))) begin
        glAverageTargetValue_o = grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o;
    end else begin
        glAverageTargetValue_o = glAverageTargetValue_i;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        miniSumStreamScale0_V_V_blk_n = miniSumStreamScale0_V_V_empty_n;
    end else begin
        miniSumStreamScale0_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        miniSumStreamScale0_V_V_read = 1'b1;
    end else begin
        miniSumStreamScale0_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        miniSumStreamScale1_V_V_blk_n = miniSumStreamScale1_V_V_empty_n;
    end else begin
        miniSumStreamScale1_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        miniSumStreamScale1_V_V_read = 1'b1;
    end else begin
        miniSumStreamScale1_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        miniSumStreamScale2_V_V_blk_n = miniSumStreamScale2_V_V_empty_n;
    end else begin
        miniSumStreamScale2_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        miniSumStreamScale2_V_V_read = 1'b1;
    end else begin
        miniSumStreamScale2_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
        packetEventDataStream_V_V_blk_n = packetEventDataStream_V_V_empty_n;
    end else begin
        packetEventDataStream_V_V_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        packetEventDataStream_V_V_read = 1'b1;
    end else begin
        packetEventDataStream_V_V_read = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        polStreamOut_V_V_TDATA_blk_n = polStreamOut_V_V_TREADY;
    end else begin
        polStreamOut_V_V_TDATA_blk_n = 1'b1;
    end
end

always @ (*) begin
    if (((ap_reg_ioackin_polStreamOut_V_V_TREADY == 1'b0) & (1'b1 == ap_CS_fsm_state4) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
        polStreamOut_V_V_TVALID = 1'b1;
    end else begin
        polStreamOut_V_V_TVALID = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        tsStreamOut_V_V_TDATA_blk_n = tsStreamOut_V_V_TREADY;
    end else begin
        tsStreamOut_V_V_TDATA_blk_n = 1'b1;
    end
end

always @ (*) begin
    if (((ap_reg_ioackin_tsStreamOut_V_V_TREADY == 1'b0) & (1'b1 == ap_CS_fsm_state4) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
        tsStreamOut_V_V_TVALID = 1'b1;
    end else begin
        tsStreamOut_V_V_TVALID = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        xStreamOut_V_V_TDATA_blk_n = xStreamOut_V_V_TREADY;
    end else begin
        xStreamOut_V_V_TDATA_blk_n = 1'b1;
    end
end

always @ (*) begin
    if (((ap_reg_ioackin_xStreamOut_V_V_TREADY == 1'b0) & (1'b1 == ap_CS_fsm_state4) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
        xStreamOut_V_V_TVALID = 1'b1;
    end else begin
        xStreamOut_V_V_TVALID = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        yStreamOut_V_V_TDATA_blk_n = yStreamOut_V_V_TREADY;
    end else begin
        yStreamOut_V_V_TDATA_blk_n = 1'b1;
    end
end

always @ (*) begin
    if (((ap_reg_ioackin_yStreamOut_V_V_TREADY == 1'b0) & (1'b1 == ap_CS_fsm_state4) & (grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b1))) begin
        yStreamOut_V_V_TVALID = 1'b1;
    end else begin
        yStreamOut_V_V_TVALID = 1'b0;
    end
end

always @ (*) begin
    case (ap_CS_fsm)
        ap_ST_fsm_state1 : begin
            if ((~((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end
        end
        ap_ST_fsm_state2 : begin
            ap_NS_fsm = ap_ST_fsm_state3;
        end
        ap_ST_fsm_state3 : begin
            ap_NS_fsm = ap_ST_fsm_state4;
        end
        ap_ST_fsm_state4 : begin
            if ((~((grp_feedbackWithoutOFHis_fu_370_ap_done == 1'b0) | (1'b1 == ap_block_state4_io)) & (1'b1 == ap_CS_fsm_state4))) begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state4;
            end
        end
        default : begin
            ap_NS_fsm = 'bx;
        end
    endcase
end

assign OFHistCntSum_V_o_ap_vld = grp_feedbackWithoutOFHis_fu_370_OFHistCntSum_V_o_ap_vld;

assign OFHistRadiusSum_V_o_ap_vld = grp_feedbackWithoutOFHis_fu_370_OFHistRadiusSum_V_o_ap_vld;

assign addconv1_i_fu_616_p2 = ($signed(lhs_V_12_cast_i_fu_612_p1) + $signed(15'd32762));

assign addconv6_i_fu_768_p2 = ($signed(r_V_61_fu_762_p2) + $signed(18'd262129));

assign addconv7_i_fu_782_p2 = (r_V_61_fu_762_p2 + 18'd15);

assign addconv8_i_fu_812_p2 = ($signed(r_V_62_fu_806_p2) + $signed(18'd262129));

assign addconv9_i_fu_826_p2 = (r_V_62_fu_806_p2 + 18'd15);

assign addconv_i_fu_571_p2 = ($signed(15'd32762) + $signed(lhs_V_cast_i_fu_567_p1));

assign ap_CS_fsm_state1 = ap_CS_fsm[32'd0];

assign ap_CS_fsm_state2 = ap_CS_fsm[32'd1];

assign ap_CS_fsm_state3 = ap_CS_fsm[32'd2];

assign ap_CS_fsm_state4 = ap_CS_fsm[32'd3];

always @ (*) begin
    ap_block_state1 = ((ap_start == 1'b0) | (1'b0 == OFRetStreamScale2_V_V_empty_n) | (miniSumStreamScale2_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale1_V_V_empty_n) | (miniSumStreamScale1_V_V_empty_n == 1'b0) | (1'b0 == OFRetStreamScale0_V_V_empty_n) | (miniSumStreamScale0_V_V_empty_n == 1'b0) | (packetEventDataStream_V_V_empty_n == 1'b0));
end

always @ (*) begin
    ap_block_state4_io = ((ap_sig_ioackin_custDataStreamOut_V_V_TREADY == 1'b0) | (ap_sig_ioackin_tsStreamOut_V_V_TREADY == 1'b0) | (ap_sig_ioackin_polStreamOut_V_V_TREADY == 1'b0) | (ap_sig_ioackin_yStreamOut_V_V_TREADY == 1'b0) | (ap_sig_ioackin_xStreamOut_V_V_TREADY == 1'b0));
end

assign areaEventThrBak = grp_feedbackWithoutOFHis_fu_370_areaEventThrBak;

assign areaEventThrBak_ap_vld = grp_feedbackWithoutOFHis_fu_370_areaEventThrBak_ap_vld;

assign areaEventThr_o_ap_vld = grp_feedbackWithoutOFHis_fu_370_areaEventThr_o_ap_vld;

assign custDataStreamOut_V_V_TDATA = p_Result_26_fu_1098_p5;

assign glAverageTargetValue_1 = grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_1;

assign glAverageTargetValue_1_ap_vld = grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_1_ap_vld;

assign glAverageTargetValue_o_ap_vld = grp_feedbackWithoutOFHis_fu_370_glAverageTargetValue_o_ap_vld;

assign glOFHistCntSum_V = grp_feedbackWithoutOFHis_fu_370_glOFHistCntSum_V;

assign glOFHistCntSum_V_ap_vld = grp_feedbackWithoutOFHis_fu_370_glOFHistCntSum_V_ap_vld;

assign glOFHistRadiusSum_V = grp_feedbackWithoutOFHis_fu_370_glOFHistRadiusSum_V;

assign glOFHistRadiusSum_V_ap_vld = grp_feedbackWithoutOFHis_fu_370_glOFHistRadiusSum_V_ap_vld;

assign grp_feedbackWithoutOFHis_fu_370_ap_start = grp_feedbackWithoutOFHis_fu_370_ap_start_reg;

assign grp_fu_1119_p0 = 14'd43;

assign grp_fu_1119_p2 = grp_fu_1119_p20;

assign grp_fu_1119_p20 = tmp14_fu_1066_p2;

assign lhs_V_12_cast_i_fu_612_p1 = tmp_275_fu_603_p4;

assign lhs_V_3_fu_800_p1 = y_V_reg_1147;

assign lhs_V_cast_i_fu_567_p1 = tmp_274_fu_557_p4;

assign lhs_V_fu_756_p1 = x_V_reg_1153;

assign or_cond13_i_fu_597_p2 = (tmp_2546_fu_577_p3 | tmp_1103_i_fu_591_p2);

assign or_cond14_i_fu_642_p2 = (tmp_2547_fu_622_p3 | tmp_1106_i_fu_636_p2);

assign or_cond1_fu_750_p2 = (tmp_2549_fu_730_p3 | tmp_1111_i_fu_744_p2);

assign or_cond1_i_fu_838_p2 = (tmp_2551_fu_818_p3 | tmp_1115_i_fu_832_p2);

assign or_cond_fu_696_p2 = (tmp_2548_fu_676_p3 | tmp_1108_i_fu_690_p2);

assign or_cond_i_fu_794_p2 = (tmp_2550_fu_774_p3 | tmp_1113_i_fu_788_p2);

assign p_Result_13_i_fu_870_p4 = {{p_Val2_2_reg_348[5:3]}};

assign p_Result_25_fu_1016_p1 = $signed(tmp_s_fu_1008_p3);

assign p_Result_26_fu_1098_p5 = {{ap_const_lv17_0[16:11]}, {tmp_4275_i_fu_1090_p3}};

assign p_Result_7_i_fu_519_p4 = {{OFRetStreamScale1_V_V_dout[5:3]}};

assign p_Result_i_fu_415_p4 = {{packetEventDataStream_V_V_dout[95:33]}};

assign p_Result_s_fu_425_p5 = {{ap_const_lv64_0[63:63]}, {p_Result_i_fu_415_p4}};

assign p_Val2_73_fu_1031_p3 = ((sel_tmp6_fu_1026_p2[0:0] === 1'b1) ? p_Result_25_fu_1016_p1 : 16'd32639);

assign polStreamOut_V_V_TDATA = pol_V_reg_1159;

assign r_V_173_i_fu_585_p2 = (15'd6 + lhs_V_cast_i_fu_567_p1);

assign r_V_176_i_fu_630_p2 = (lhs_V_12_cast_i_fu_612_p1 + 15'd6);

assign r_V_4_i_fu_670_p2 = ($signed(tmp_fu_664_p2) + $signed(16'd65527));

assign r_V_57_fu_684_p2 = (tmp_fu_664_p2 + 16'd9);

assign r_V_58_fu_702_p4 = {{tmp_V_189_reg_1140[31:17]}};

assign r_V_59_fu_711_p1 = r_V_58_fu_702_p4;

assign r_V_60_fu_738_p2 = (tmp5_fu_718_p2 + 16'd9);

assign r_V_61_fu_762_p2 = ($signed(lhs_V_fu_756_p1) + $signed(rhs_V_fu_759_p1));

assign r_V_62_fu_806_p2 = ($signed(lhs_V_3_fu_800_p1) + $signed(rhs_V_3_fu_803_p1));

assign r_V_63_fu_453_p2 = ($signed(5'd26) + $signed(tmp_1098_cast10_i_fu_449_p1));

assign r_V_64_fu_481_p2 = ($signed(5'd26) + $signed(tmp_1100_cast9_i_fu_477_p1));

assign r_V_7_i_fu_724_p2 = ($signed(tmp5_fu_718_p2) + $signed(16'd65527));

assign r_V_fu_657_p1 = r_V_s_fu_648_p4;

assign r_V_s_fu_648_p4 = {{tmp_V_189_reg_1140[15:1]}};

assign rhs_V_3_cast7_i_fu_715_p1 = r_V_64_reg_1204;

assign rhs_V_3_fu_803_p1 = $signed(yInitOffsetScale0_V_reg_1214);

assign rhs_V_cast8_i_fu_661_p1 = r_V_63_reg_1199;

assign rhs_V_fu_759_p1 = $signed(xInitOffsetScale0_V_reg_1209);

assign sel_tmp6_fu_1026_p2 = (tmp_1116_i_reg_1238 & tmp13_fu_1020_p2);

assign tmp103_i_fu_533_p2 = ($signed(tmp_4271_cast_i_fu_529_p1) + $signed(r_V_64_fu_481_p2));

assign tmp10_cast_fu_928_p1 = tmp10_fu_922_p2;

assign tmp10_fu_922_p2 = (tmp_1126_cast_i_cast_fu_912_p1 + tmp_1123_cast_i_cast_fu_866_p1);

assign tmp11_fu_986_p2 = ($signed(6'd43) + $signed(tmp_1129_cast_i_fu_960_p1));

assign tmp11_i_cast_fu_547_p1 = $signed(tmp_273_fu_539_p3);

assign tmp12_cast_fu_998_p1 = tmp12_fu_992_p2;

assign tmp12_fu_992_p2 = (tmp_1130_cast_i_cast_fu_982_p1 + tmp_1124_cast_i_cast_fu_880_p1);

assign tmp13_fu_1020_p2 = (tmp_1118_i_fu_856_p2 & tmp_1117_i_fu_850_p2);

assign tmp14_fu_1066_p2 = ($signed(11'd924) + $signed(tmp_1135_cast_i_cast_fu_1063_p1));

assign tmp5_fu_718_p2 = ($signed(rhs_V_3_cast7_i_fu_715_p1) + $signed(r_V_59_fu_711_p1));

assign tmp5_i_fu_495_p2 = ($signed(tmp_4269_cast_i_fu_491_p1) + $signed(r_V_63_fu_453_p2));

assign tmp9_fu_916_p2 = ($signed(6'd43) + $signed(tmp_1125_cast_i_fu_896_p1));

assign tmp9_i_cast_fu_509_p1 = $signed(tmp_272_fu_501_p3);

assign tmp_1098_cast10_i_fu_449_p1 = tmp_1098_i_fu_441_p3;

assign tmp_1098_i_fu_441_p3 = {{tmp_2544_fu_437_p1}, {1'd0}};

assign tmp_1100_cast9_i_fu_477_p1 = tmp_1100_i_fu_469_p3;

assign tmp_1100_i_fu_469_p3 = {{tmp_271_fu_459_p4}, {1'd0}};

assign tmp_1103_i_fu_591_p2 = ((r_V_173_i_fu_585_p2 > 15'd85) ? 1'b1 : 1'b0);

assign tmp_1106_i_fu_636_p2 = ((r_V_176_i_fu_630_p2 > 15'd64) ? 1'b1 : 1'b0);

assign tmp_1108_i_fu_690_p2 = ((r_V_57_fu_684_p2 > 16'd172) ? 1'b1 : 1'b0);

assign tmp_1111_i_fu_744_p2 = ((r_V_60_fu_738_p2 > 16'd129) ? 1'b1 : 1'b0);

assign tmp_1113_i_fu_788_p2 = (($signed(addconv7_i_fu_782_p2) > $signed(18'd345)) ? 1'b1 : 1'b0);

assign tmp_1115_i_fu_832_p2 = (($signed(addconv9_i_fu_826_p2) > $signed(18'd259)) ? 1'b1 : 1'b0);

assign tmp_1116_i_fu_844_p2 = ((ap_phi_mux_tmp_V_105_load_phi_fu_308_p4 < 15'd1470) ? 1'b1 : 1'b0);

assign tmp_1117_i_fu_850_p2 = ((tmp_V_103_load_reg_326 < 15'd5070) ? 1'b1 : 1'b0);

assign tmp_1118_i_fu_856_p2 = ((tmp_V_101_load_reg_359 < 15'd18750) ? 1'b1 : 1'b0);

assign tmp_1123_cast_i_cast_fu_866_p1 = tmp_2552_fu_862_p1;

assign tmp_1124_cast_i_cast_fu_880_p1 = p_Result_13_i_fu_870_p4;

assign tmp_1125_cast_i_fu_896_p1 = tmp_1125_i_fu_888_p3;

assign tmp_1125_i_fu_888_p3 = {{tmp_2553_fu_884_p1}, {2'd0}};

assign tmp_1126_cast_i_cast_fu_912_p1 = tmp_1126_i_fu_904_p3;

assign tmp_1126_i_fu_904_p3 = {{tmp_2554_fu_900_p1}, {1'd0}};

assign tmp_1129_cast_i_fu_960_p1 = tmp_1129_i_fu_952_p3;

assign tmp_1129_i_fu_952_p3 = {{tmp_276_fu_942_p4}, {2'd0}};

assign tmp_1130_cast_i_cast_fu_982_p1 = tmp_1130_i_fu_974_p3;

assign tmp_1130_i_fu_974_p3 = {{tmp_277_fu_964_p4}, {1'd0}};

assign tmp_1135_cast_i_cast_fu_1063_p1 = $signed(yOFRet_V_reg_1253);

assign tmp_1138_i_fu_1054_p2 = ((p_Val2_73_fu_1031_p3 == 16'd32639) ? 1'b1 : 1'b0);

assign tmp_164_fu_1086_p2 = (tmp_1138_i_reg_1258 | p_read1);

assign tmp_2544_fu_437_p1 = OFRetStreamScale2_V_V_dout[2:0];

assign tmp_2545_fu_487_p1 = OFRetStreamScale1_V_V_dout[2:0];

assign tmp_2546_fu_577_p3 = addconv_i_fu_571_p2[32'd14];

assign tmp_2547_fu_622_p3 = addconv1_i_fu_616_p2[32'd14];

assign tmp_2548_fu_676_p3 = r_V_4_i_fu_670_p2[32'd15];

assign tmp_2549_fu_730_p3 = r_V_7_i_fu_724_p2[32'd15];

assign tmp_2550_fu_774_p3 = addconv6_i_fu_768_p2[32'd17];

assign tmp_2551_fu_818_p3 = addconv8_i_fu_812_p2[32'd17];

assign tmp_2552_fu_862_p1 = p_Val2_2_reg_348[2:0];

assign tmp_2553_fu_884_p1 = p_Val2_72_reg_315[2:0];

assign tmp_2554_fu_900_p1 = p_Val2_1_reg_337[2:0];

assign tmp_2556_fu_1076_p1 = grp_fu_1119_p3[10:0];

assign tmp_271_fu_459_p4 = {{OFRetStreamScale2_V_V_dout[5:3]}};

assign tmp_272_fu_501_p3 = {{tmp5_i_fu_495_p2}, {1'd0}};

assign tmp_273_fu_539_p3 = {{tmp103_i_fu_533_p2}, {1'd0}};

assign tmp_274_fu_557_p4 = {{packetEventDataStream_V_V_dout[15:2]}};

assign tmp_275_fu_603_p4 = {{tmp_V_189_reg_1140[31:18]}};

assign tmp_276_fu_942_p4 = {{p_Val2_72_reg_315[5:3]}};

assign tmp_277_fu_964_p4 = {{p_Val2_1_reg_337[5:3]}};

assign tmp_4269_cast_i_fu_491_p1 = tmp_2545_fu_487_p1;

assign tmp_4271_cast_i_fu_529_p1 = p_Result_7_i_fu_519_p4;

assign tmp_4274_i_cast_fu_1079_p3 = ((p_read1[0:0] === 1'b1) ? 11'd2046 : 11'd2047);

assign tmp_4275_i_fu_1090_p3 = ((tmp_164_fu_1086_p2[0:0] === 1'b1) ? tmp_4274_i_cast_fu_1079_p3 : tmp_2556_fu_1076_p1);

assign tmp_fu_664_p2 = ($signed(rhs_V_cast8_i_fu_661_p1) + $signed(r_V_fu_657_p1));

assign tmp_s_fu_1008_p3 = {{yOFTmpRet_V_fu_1002_p2}, {xOFTmpRet_V_cast_i_fu_938_p1}};

assign tsStreamOut_V_V_TDATA = p_Result_s_reg_1164;

assign xInitOffsetScale0_V_fu_513_p2 = ($signed(7'd122) + $signed(tmp9_i_cast_fu_509_p1));

assign xOFRet_V_fu_1040_p1 = p_Val2_73_fu_1031_p3[7:0];

assign xOFTmpRet_V_cast_i_fu_938_p1 = $signed(xOFTmpRet_V_fu_932_p2);

assign xOFTmpRet_V_fu_932_p2 = (tmp10_cast_fu_928_p1 + tmp9_fu_916_p2);

assign xStreamOut_V_V_TDATA = x_V_reg_1153;

assign x_V_fu_403_p1 = packetEventDataStream_V_V_dout[15:0];

assign yInitOffsetScale0_V_fu_551_p2 = ($signed(7'd122) + $signed(tmp11_i_cast_fu_547_p1));

assign yOFTmpRet_V_fu_1002_p2 = (tmp12_cast_fu_998_p1 + tmp11_fu_986_p2);

assign yStreamOut_V_V_TDATA = y_V_reg_1147;

always @ (posedge ap_clk) begin
    r_V_63_reg_1199[0] <= 1'b0;
    r_V_64_reg_1204[0] <= 1'b0;
    xInitOffsetScale0_V_reg_1209[0] <= 1'b0;
    yInitOffsetScale0_V_reg_1214[0] <= 1'b0;
end

endmodule //feedbackAndCombineOu_1
